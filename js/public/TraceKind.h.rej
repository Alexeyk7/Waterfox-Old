--- js/public/TraceKind.h
+++ js/public/TraceKind.h
@@ -100,11 +100,11 @@
 // the other hand, gets very confused if we have a |template| token there.
 // The clang-cl front end defines _MSC_VER, but still requires the explicit
 // template declaration, so we must test for __clang__ here as well.
-#if defined(_MSC_VER) && !defined(__clang__)
-# define JS_DEPENDENT_TEMPLATE_HINT
-#else
+// #if defined(_MSC_VER) && (!defined(__clang__) || !defined(__ICL))
+// # define JS_DEPENDENT_TEMPLATE_HINT
+// #else
 # define JS_DEPENDENT_TEMPLATE_HINT template
-#endif
+// #endif
 template <typename F, typename... Args>
 auto
 DispatchTraceKindTyped(F f, JS::TraceKind traceKind, Args&&... args)
